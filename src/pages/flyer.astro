---
import Layout from "../layouts/Layout.astro";
import { Button, Heading, Spinner } from "flowbite-svelte";
---

<script lang="ts">
    // Replace this with your actual numeric ID
    const PAGE_ID = "61585999057635";
    const WEB_URL = "https://www.facebook.com/mariamontserratyoga/events";
    WEB_URL = "https://maria-montserrat.my.canva.site/"

    // The "Deep Link" formats
    const iosAppUrl = `fb://page/?id=${PAGE_ID}&sk=events`;
    const androidAppUrl = `fb://page/${PAGE_ID}/events`;

    function openEvents() {
        const isAndroid = /Android/i.test(navigator.userAgent);
        const appUrl = isAndroid ? androidAppUrl : iosAppUrl;

        // Attempt to open the app
        window.location.href = appUrl;

        // Fallback to web if app doesn't open
        setTimeout(() => {
            window.location.href = WEB_URL;
        }, 4000);
    }
    window.location.href = WEB_URL;
    // openEvents();
</script>

<Layout>
    <div class="flex h-screen">
        <div class="m-auto text-center">

            <div class="py-10 relative">
                <div>
                    <Button href="{WEB_URL}">
                        Click here if nothing happens
                    </Button>
                </div>

                <Heading tag="h1" class="text-white mix-blend-difference absolute top-1/2 -mt-5 left-0 right-0 z-10">Loading..</Heading>
                <Spinner class="w-full h-full max-w-[400px] max-h-[400px]" type="pulse" color="rose" />
            </div>

        </div>
    </div>
</Layout>
